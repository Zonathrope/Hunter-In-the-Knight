[gd_scene load_steps=7 format=2]

[ext_resource path="res://Enemies/Wolf/scenes/Hurtbox.tscn" type="PackedScene" id=1]

[sub_resource type="GDScript" id=4]
script/source = "extends KinematicBody2D

const MAX_HP = 5
var hp = 5

var location = Vector2.ZERO
var velocity = Vector2.ZERO
var acceleration = Vector2.ZERO

const MAX_SPEED = 200000
const MAX_ACCELERATION = 100

func _physics_process(delta):
	seek(get_global_mouse_position(), delta)
	velocity += acceleration
	velocity = velocity.clamped(MAX_SPEED)
	location += velocity 
	location = move_and_slide(location * delta)
	acceleration *= 0 
	
func seek(target, delta):
	var desired = target - global_position
	desired = desired.normalized()
	desired *= (MAX_SPEED * delta)
	var steer = desired - velocity
	steer = steer.clamped(MAX_ACCELERATION)
	acceleration += steer 
		
func handle_hit(taken_damage: int) -> void:
	hp -= taken_damage
	print(taken_damage)
	print(hp)
	if hp <= 0:
		queue_free()
	
"

[sub_resource type="StreamTexture" id=5]
load_path = "res://.import/slime_run_spritesheeet1.png-19cabca336cfbcbbb228381a49b92163.stex"

[sub_resource type="CircleShape2D" id=1]
radius = 6.408

[sub_resource type="CircleShape2D" id=2]
radius = 80.0048

[sub_resource type="CircleShape2D" id=3]
radius = 6.00559

[node name="Wolf" type="KinematicBody2D"]
collision_layer = 2
script = SubResource( 4 )

[node name="Sprite" type="Sprite" parent="."]
texture = SubResource( 5 )
hframes = 6

[node name="Collision" type="CollisionShape2D" parent="."]
position = Vector2( 0, 0.875 )
shape = SubResource( 1 )

[node name="Area2D" type="Area2D" parent="."]
position = Vector2( 0, 0.875 )

[node name="TauntArea" type="CollisionShape2D" parent="Area2D"]
shape = SubResource( 2 )

[node name="Timer" type="Timer" parent="."]
one_shot = true
autostart = true

[node name="Hurtbox" parent="." instance=ExtResource( 1 )]

[node name="Hurtbox2" type="CollisionShape2D" parent="Hurtbox"]
shape = SubResource( 3 )

[connection signal="body_entered" from="Area2D" to="." method="_on_Area2D_body_entered"]
[connection signal="body_exited" from="Area2D" to="." method="_on_Area2D_body_exited"]
[connection signal="timeout" from="Timer" to="." method="_on_Timer_timeout"]
